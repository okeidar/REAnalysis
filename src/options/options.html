<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Analyzer - Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üè†</span>
                <h1>Real Estate Analyzer</h1>
            </div>
            <div class="version">v1.0.0</div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="preferences">
                <span>‚öôÔ∏è</span>
                <span>Preferences</span>
            </button>
            <button class="nav-tab" data-tab="properties">
                <span>üè†</span>
                <span>Properties</span>
            </button>
            <button class="nav-tab" data-tab="folders">
                <span>üìÅ</span>
                <span>Folders</span>
            </button>
            <button class="nav-tab" data-tab="export">
                <span>üìä</span>
                <span>Export & Backup</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <!-- Preferences Tab -->
            <div id="preferences" class="tab-content active">
                <div class="section">
                    <h2>Investment Preferences</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="targetCashFlow">Target Monthly Cash Flow ($)</label>
                            <input type="number" id="targetCashFlow" min="0" step="50" placeholder="200">
                        </div>
                        
                        <div class="form-group">
                            <label for="targetCapRate">Target Cap Rate (%)</label>
                            <input type="number" id="targetCapRate" min="0" max="50" step="0.5" placeholder="8">
                        </div>
                        
                        <div class="form-group">
                            <label for="targetCoCReturn">Target Cash-on-Cash Return (%)</label>
                            <input type="number" id="targetCoCReturn" min="0" max="100" step="0.5" placeholder="12">
                        </div>
                        
                        <div class="form-group">
                            <label for="riskTolerance">Risk Tolerance</label>
                            <select id="riskTolerance">
                                <option value="low">Low - Conservative investments</option>
                                <option value="medium">Medium - Balanced approach</option>
                                <option value="high">High - Aggressive growth</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="investmentStrategy">Investment Strategy</label>
                            <select id="investmentStrategy">
                                <option value="cashFlow">Cash Flow - Focus on monthly income</option>
                                <option value="appreciation">Appreciation - Focus on value growth</option>
                                <option value="balanced">Balanced - Mix of both</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Loan Parameters</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="downPaymentPercent">Down Payment (%)</label>
                            <input type="number" id="downPaymentPercent" min="0" max="100" step="5" placeholder="20">
                        </div>
                        
                        <div class="form-group">
                            <label for="interestRate">Interest Rate (%)</label>
                            <input type="number" id="interestRate" min="0" max="20" step="0.25" placeholder="7.5">
                        </div>
                        
                        <div class="form-group">
                            <label for="loanTerm">Loan Term (years)</label>
                            <select id="loanTerm">
                                <option value="15">15 years</option>
                                <option value="20">20 years</option>
                                <option value="25">25 years</option>
                                <option value="30">30 years</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Monthly Expenses</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="maintenanceExpense">Maintenance ($)</label>
                            <input type="number" id="maintenanceExpense" min="0" step="25" placeholder="200">
                        </div>
                        
                        <div class="form-group">
                            <label for="vacancyExpense">Vacancy Allowance ($)</label>
                            <input type="number" id="vacancyExpense" min="0" step="25" placeholder="150">
                        </div>
                        
                        <div class="form-group">
                            <label for="managementExpense">Property Management ($)</label>
                            <input type="number" id="managementExpense" min="0" step="25" placeholder="100">
                        </div>
                        
                        <div class="form-group">
                            <label for="insuranceExpense">Insurance ($)</label>
                            <input type="number" id="insuranceExpense" min="0" step="25" placeholder="100">
                        </div>
                        
                        <div class="form-group">
                            <label for="otherExpense">Other Expenses ($)</label>
                            <input type="number" id="otherExpense" min="0" step="25" placeholder="50">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Analysis Settings</h2>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="includeMarketAnalysis" checked>
                            <span class="checkbox-custom"></span>
                            Include market analysis in reports
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" id="autoCalculateRent" checked>
                            <span class="checkbox-custom"></span>
                            Automatically estimate rent if not provided
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" id="showRedFlags" checked>
                            <span class="checkbox-custom"></span>
                            Show red flags and warnings
                        </label>
                    </div>
                </div>

                <div class="section-actions">
                    <button id="savePreferences" class="btn btn-primary">Save Preferences</button>
                    <button id="resetPreferences" class="btn btn-secondary">Reset to Defaults</button>
                </div>
            </div>

            <!-- Properties Tab -->
            <div id="properties" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h2>Property Portfolio</h2>
                        <div class="toolbar">
                            <input type="search" id="propertySearch" placeholder="Search properties...">
                            <select id="propertyFilter">
                                <option value="">All Properties</option>
                                <option value="Strong Buy">Strong Buy</option>
                                <option value="Worth Considering">Worth Considering</option>
                                <option value="Pass">Pass</option>
                            </select>
                            <select id="propertySortBy">
                                <option value="date">Sort by Date</option>
                                <option value="price">Sort by Price</option>
                                <option value="cashFlow">Sort by Cash Flow</option>
                                <option value="capRate">Sort by Cap Rate</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="propertiesGrid" class="properties-grid">
                        <!-- Properties will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Folders Tab -->
            <div id="folders" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h2>Property Folders</h2>
                        <button id="addFolderBtn" class="btn btn-primary">Add Folder</button>
                    </div>
                    
                    <div id="foldersGrid" class="folders-grid">
                        <!-- Folders will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Export Tab -->
            <div id="export" class="tab-content">
                <div class="section">
                    <h2>Export & Backup</h2>
                    
                    <div class="export-options">
                        <div class="export-card">
                            <div class="export-icon">üìä</div>
                            <h3>Export to CSV</h3>
                            <p>Download all property data and analysis results in CSV format for Excel or Google Sheets.</p>
                            <button id="exportCsvBtn" class="btn btn-primary">Export CSV</button>
                        </div>
                        
                        <div class="export-card">
                            <div class="export-icon">üìã</div>
                            <h3>Export to Google Sheets</h3>
                            <p>Create a new Google Sheets document with your property analysis data.</p>
                            <button id="exportSheetsBtn" class="btn btn-primary">Export to Sheets</button>
                        </div>
                        
                        <div class="export-card">
                            <div class="export-icon">üíæ</div>
                            <h3>Backup Data</h3>
                            <p>Create a complete backup of all your data including preferences and analysis results.</p>
                            <button id="backupDataBtn" class="btn btn-primary">Create Backup</button>
                        </div>
                        
                        <div class="export-card">
                            <div class="export-icon">üì•</div>
                            <h3>Restore Data</h3>
                            <p>Restore your data from a previous backup file.</p>
                            <input type="file" id="restoreFileInput" accept=".json" style="display: none;">
                            <button id="restoreDataBtn" class="btn btn-secondary">Restore Backup</button>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Storage Usage</h2>
                    <div id="storageUsage" class="storage-usage">
                        <!-- Storage info will be populated here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="folderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="folderModalTitle">Add Folder</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="folderName">Folder Name</label>
                    <input type="text" id="folderName" placeholder="Enter folder name">
                </div>
                <div class="form-group">
                    <label for="folderColor">Folder Color</label>
                    <input type="color" id="folderColor" value="#007bff">
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveFolderBtn" class="btn btn-primary">Save</button>
                <button class="btn btn-secondary modal-close">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <!-- Status Messages -->
    <div id="statusMessages" class="status-messages"></div>

    <script src="options.js"></script>
</body>
</html>
